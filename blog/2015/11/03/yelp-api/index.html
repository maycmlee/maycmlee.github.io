
<!DOCTYPE HTML>
<html>
<head>
	<script data-cfasync="false" type="text/javascript" src="//use.typekit.net/axj3cfp.js"></script>
	<script data-cfasync="false" type="text/javascript">try{Typekit.load();}catch(e){}</script>
	<meta charset="utf-8">
	<title>Yelp API keys and tokens....oops  | My Beginnings as a Web Developer</title>

<meta name="author" content="May Lee"> 

<meta name="description" content="Beginning as a Web Developer"> <meta name="keywords" content="">

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="My Beginnings as a Web Developer" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/font-awesome.min.css" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script type="text/javascript" src="/javascripts/jquery.fancybox.pack.js"></script>

<script language="Javascript" type="text/javascript">
$(document).ready(
  function() {
    (function($) {
      $(".fancybox[data-content-id]").each(function() {
        this.href = $(this).data('content-id');
      });
      $(".fancybox").fancybox({
        beforeLoad: function() {
          var el, 
              id = $(this.element).data('title-id');

          if (id) {
            el = $('#' + id);

            if (el.length) {
              this.title = el.html();
            }
          }
          if ($(this).data('content')) {
            this.content = $(this).data('content');
          }
        },
        helpers: {
          title: {
            type: 'inside'
          }
        }
      });
    })(jQuery);
  }
);
</script>

	
</head>



<body>
	<header id="header" class="inner"><h1><a href="/">My Beginnings as a Web Developer</a></h1>
<h4></h4>
<nav id="main-nav"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/about">About</a></li>
	<li><a href="/portfolio">Portfolio</a></li>
	<li><a href="/archives">Archive</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul>
	<li><a href="/">Blog</a></li>
	<li><a href="/about">About</a></li>
	<li><a href="/portfolio">Portfolio</a></li>
	<li><a href="/archives">Archive</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="https://www.google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:maycmlee.github.io">
			</form>
		</div>
	</div>
</nav>


</header>

	<div id="content" class="inner"><article class="post">
	<h2 class="title">Yelp API Keys and tokens....oops</h2>
	<div class="entry-content"><p>For our project, we&rsquo;re using a Yelp API to help us find restaurants in a specific neighborhood.  To get access to the API we generated keys and tokens from Yelp&rsquo;s developer website.</p>

<p><img src="images/yelp_secret.png"></p>

<p>These keys and tokens allow us to make a HTTP request to the Yelp API to get the information we want.</p>

<p>To keep these API keys safe, we first stored them in a separate YAML file called <b>application.yml</b>.</p>

<p>Inside application.yml:<br><br>
<img src="images/yaml_file.png"></p>

<p>And then we can created a <b>.gitignore</b> file that lists our <b>application.yml</b> in it.  Doing this allows us to keep application.yml from being pushed up to GitHub and keep people from getting a hold of our API keys.  A <b>.gitignore</b> file contains a list of files that are not to be pushed up to GitHub.</p>

<p>So now when we want to make a request to our API, we have to first <b> load </b> the file <b>application.yaml</b>.<br><br>
<img src="images/load_yaml.png"></p>

<p>&hellip;which gives us a hash of our API keys and tokens <br><br></p>

<p><img src="images/keys.png"></p>

<p>&hellip;and then we make the actual request to the API by sending over our API keys as key-value pairs from our hash. <br><br>
<img src="images/protected.png"></p>

<p>However, because we wanted to see if we could just get the API code working, we decided to hardcode the keys in&hellip;<br><br>
<img src="images/hardcoded.png"></p>

<p>Then an hour or so later&hellip;.we got the API working and were able to get the information we were looking for from Yelp.  Yay!  git add. git commit.  git push.  OOPS.  We had just completely exposed our API keys to everyone.</p>

<p>How to resolve this problem?  The problem with just fixing our code and hiding our API keys, then pushing it up to GitHub, is that all of our previous git commits still contain those keys.  So, the best thing to do was to destroy those keys and generate new ones.  And not expose them.</p>

<p>Our case, hopefully, was not too serious. However, there have been a number of cases where programmers who used Amazon Web Services (AWS) had mistakenly published their tokens on GitHub and ended up with large bills.  One programmer using AWS had realized his mistake five minutes after commiting his files to GitHub.  He immediately reverted his last few commits and deleted all traces of his keys from GitHub.  But the next morning he had four emails from Amazon AWS, a missed phone call from them and 140 servers running on his AWS account.  Along with a bill for $2375.  Luckily, when he explained the situation to Amazon customer support, they dropped the charges.</p>

<p>You can find the full story here: <a href="http://www.devfactor.net/2014/12/30/2375-amazon-mistake/"> My $2375 Amazon EC2 Mistake.</a></p>
</div>


<div class="meta">
	<div class="date">








  


<time datetime="2015-11-03T20:18:32-05:00" pubdate data-updated="true"></time></div>
	

<div class="tags">

	<a class='category' href='/blog/categories/flatiron-school/'>flatiron&nbsp;school</a>

</div>


	
</div></article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	
	<a class="addthis_button_tweet"></a>
	
	
<!---	<a class="addthis_counter addthis_pill_style"></a> --->
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>


</div>
	<footer id="footer" class="inner">Copyright &copy; 2015

    May Lee

<br>
Powered by Octopress.
</footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->






</body>
</html>
